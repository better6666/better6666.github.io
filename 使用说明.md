# 🤖 Multi-AI 平台 - 使用说明

## 🎉 恭喜！您的多AI平台已完全配置成功！

---

## 📁 文件清单

### **核心文件**
- ✅ `chat.html` - **主聊天界面**（完整版，已集成 Kimi AI）
- ✅ `chat-simple.html` - 简化测试版
- ✅ `config.html` - 配置管理页面
- ✅ `index.html` - 欢迎页面
- ✅ `upgrade.html` - 升级页面

### **后端文件**
- ✅ `server-multi-ai.js` - **多AI服务器**（支持 Claude、OpenAI、Gemini、Kimi）
- ✅ `server.js` - 简单版服务器（仅 Claude）

### **辅助文件**
- ✅ `package.json` - 依赖配置
- ✅ `start-multi-ai.bat` - 一键启动脚本
- ✅ `README-MultiAI.md` - 详细文档
- ✅ `test-kimi.js` - Kimi API 测试脚本

---

## 🚀 启动方式

### **方法1：一键启动（推荐）**
双击运行：`start-multi-ai.bat`

### **方法2：手动启动**
```bash
npm install      # 仅首次需要
node server-multi-ai.js
```

---

## 🎯 使用流程

### **第1步：启动服务器**
运行 `start-multi-ai.bat`，看到：
```
🚀 Multi-AI Platform Server Running!
📍 Configuration: http://localhost:3000
💬 Chat Interface: http://localhost:3000/chat
```

### **第2步：配置 API Keys**

#### **访问配置页面**
```
http://localhost:3000/config.html
```

#### **配置 Kimi AI**
1. 点击"自定义 API"右侧的开关（变绿）
2. 填写：
   - **服务名称**：`Kimi AI`
   - **API 端点**：`https://api.moonshot.cn/v1/chat/completions`
   - **API Key**：`sk-YWVsd3yPnEM5CXPV7c6rej17bbhRWfhCDm8IIrGqWdo8fiW1`
   - **认证方式**：`Bearer Token`
3. 点击"🧪 测试连接"
4. 点击"💾 保存配置"

### **第3步：开始聊天**

#### **访问聊天界面**
```
http://localhost:3000/chat.html       （完整版）
或
http://localhost:3000/chat-simple.html （简化测试版）
```

#### **选择 AI 模型**
点击右上角模型选择器，选择：
- **Opus 4.1** - Claude 最强模型
- **Sonnet 4.5** - Claude 日常推荐
- **🌙 Kimi AI** - 超长文本处理（200k）
- **More models...** - 更多模型

#### **发送消息**
输入问题，按回车或点击发送按钮

---

## 💡 功能特点

### ✅ **多AI支持**
- **Claude** (Anthropic) - 最先进的 AI
- **🌙 Kimi AI** (月之暗面) - 200k 超长上下文
- **OpenAI** (ChatGPT) - GPT-4 系列
- **Gemini** (Google) - Google AI
- **自定义 API** - 接入任何兼容的 API

### ✅ **实时流式响应**
- 打字机效果
- 逐字显示回复
- 流畅的用户体验

### ✅ **完善的错误处理**
- 未配置 API 时友好提示
- 网络错误自动识别
- 不会导致页面崩溃

### ✅ **对话管理**
- 自动保存对话历史
- 支持新建对话
- 侧边栏显示最近对话

### ✅ **响应式设计**
- 完美支持桌面端
- 完美支持移动端
- 自适应布局

---

## 🎮 测试建议

### **测试1：基础对话**
```
你好，请介绍一下你自己
```

### **测试2：切换 AI**
1. 用 Kimi 回答："总结一下人工智能的发展历史"
2. 切换到 Sonnet 4.5
3. 用 Claude 回答同样的问题
4. 对比两个 AI 的回复风格

### **测试3：长文本处理（Kimi 优势）**
```
请给我写一篇5000字的文章，主题是：人工智能对未来社会的影响
```

### **测试4：代码生成**
```
用 Python 写一个简单的 Web 爬虫
```

---

## 🔧 配置文件位置

### **浏览器 LocalStorage**
所有配置（API Keys、模型选择等）存储在：
```
localStorage.getItem('aiSettings')
```

### **清除配置**
在浏览器控制台（F12）运行：
```javascript
localStorage.clear();
```

---

## 📊 界面对比

### **完整版 (chat.html)**
- ✅ 完整的 Claude UI 克隆
- ✅ 所有原版功能
- ✅ 精美的视觉效果
- ✅ 复杂的交互元素
- **推荐日常使用**

### **简化版 (chat-simple.html)**
- ✅ 干净简洁的界面
- ✅ 更好的调试信息
- ✅ 更容易排查问题
- ✅ 适合开发测试
- **推荐调试时使用**

---

## ⚠️ 重要提示

### **API Key 安全**
- ⚠️ 不要分享您的 API Key
- ⚠️ 定期更换 API Key
- ⚠️ 监控 API 使用量

### **费用控制**
- 💰 Kimi: 根据使用量计费
- 💰 Claude: 按 token 计费
- 💰 OpenAI: 按 token 计费
- 💰 建议设置每日使用上限

### **服务器状态**
- ✅ 确保服务器一直运行
- ✅ 不要关闭服务器窗口
- ✅ 如果崩溃，重新运行 `start-multi-ai.bat`

---

## 🐛 常见问题

### **Q1: 点击发送后没反应？**
**A:** 
1. 检查服务器是否运行
2. 按 F5 刷新页面
3. 按 F12 查看控制台错误

### **Q2: 提示"未配置 API Key"？**
**A:** 访问 http://localhost:3000/config.html 配置

### **Q3: 页面变空白？**
**A:** 
1. 强制刷新（Ctrl+Shift+R）
2. 清除缓存
3. 使用简化版测试

### **Q4: Kimi 连接失败？**
**A:** 
1. 检查 API Key 是否正确
2. 确认 API 端点：`https://api.moonshot.cn/v1/chat/completions`
3. 运行 `node test-kimi.js` 测试

---

## 📞 获取帮助

### **查看日志**
- **浏览器控制台**：按 F12
- **服务器日志**：查看运行服务器的黑色窗口

### **测试 API**
```bash
node test-kimi.js     # 测试 Kimi API
```

### **重启服务器**
1. 关闭服务器窗口（或 Ctrl+C）
2. 重新运行 `start-multi-ai.bat`

---

## 🎉 享受您的多AI平台！

您现在可以：
- ✅ 与 Kimi AI 实时对话
- ✅ 在多个 AI 间自由切换
- ✅ 体验不同 AI 的特点
- ✅ 处理超长文本（Kimi）
- ✅ 享受流畅的用户体验

**Have Fun! 🚀**

