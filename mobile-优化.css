/* ========================================
   ğŸ“± æ‰‹æœºç«¯ä¸“å±ä¼˜åŒ–
   é’ˆå¯¹ç§»åŠ¨è®¾å¤‡çš„èˆ’é€‚ä½“éªŒ
   ======================================== */

/* åªåœ¨æ‰‹æœºç«¯ç”Ÿæ•ˆï¼ˆå±å¹½å°äº768pxï¼‰ */
@media (max-width: 767px) {
    
    /* ========== å…¨å±€å­—ä½“å’Œå¸ƒå±€ ========== */
    html {
        font-size: 14px !important; /* åŸºç¡€å­—ä½“ */
    }
    
    body {
        font-size: 1rem !important;
        line-height: 1.5 !important;
        overscroll-behavior: none;
        -webkit-user-select: none;
        user-select: none;
    }
    
    /* å…è®¸æ–‡æœ¬å†…å®¹é€‰æ‹© */
    .message-text-content,
    .input-box {
        -webkit-user-select: text;
        user-select: text;
    }
    
    /* ========== æ¶ˆæ¯æ˜¾ç¤ºä¼˜åŒ– ========== */
    
    /* æ¶ˆæ¯å®¹å™¨ - ç´§å‡‘å¸ƒå±€ */
    .messages-container {
        padding: 0.625rem !important; /* 8.75px */
    }
    
    /* AIæ¶ˆæ¯ - æ•´ä½“æ›´ç´§å‡‘ */
    [class*="message"] {
        padding: 0.625rem 0.75rem !important; /* 8.75px 10.5px */
        margin-bottom: 0.75rem !important;
        border-radius: 0.5rem !important;
    }
    
    /* æ¶ˆæ¯æ–‡æœ¬ - èˆ’é€‚çš„é˜…è¯»å¤§å° */
    .message-text-content {
        font-size: 0.93rem !important; /* 13px */
        line-height: 1.5 !important;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    
    /* æ ‡é¢˜å±‚çº§ - æ¸…æ™°ä½†ä¸è¿‡å¤§ */
    .message-text-content h1 {
        font-size: 1.2rem !important; /* 16.8px */
        margin: 0.75rem 0 0.5rem !important;
        font-weight: 600 !important;
        line-height: 1.3 !important;
    }
    
    .message-text-content h2 {
        font-size: 1.1rem !important; /* 15.4px */
        margin: 0.625rem 0 0.5rem !important;
        font-weight: 600 !important;
        line-height: 1.3 !important;
    }
    
    .message-text-content h3 {
        font-size: 1rem !important; /* 14px */
        margin: 0.5rem 0 0.375rem !important;
        font-weight: 600 !important;
        line-height: 1.3 !important;
    }
    
    /* æ®µè½é—´è· - ç´§å‡‘ */
    .message-text-content p {
        margin: 0.5rem 0 !important;
    }
    
    .message-text-content p:first-child {
        margin-top: 0 !important;
    }
    
    .message-text-content p:last-child {
        margin-bottom: 0 !important;
    }
    
    /* åˆ—è¡¨ - æ›´ç´§å‡‘ */
    .message-text-content ul,
    .message-text-content ol {
        margin: 0.5rem 0 !important;
        padding-left: 1.25rem !important;
    }
    
    .message-text-content li {
        margin: 0.2rem 0 !important;
        line-height: 1.5 !important;
    }
    
    /* ä»£ç å— - èˆ’é€‚çš„ä»£ç æ˜¾ç¤º */
    .message-text-content pre {
        margin: 0.625rem -0.75rem !important; /* è´Ÿè¾¹è·å¯¹é½ */
        padding: 0.625rem 0.75rem !important;
        font-size: 0.79rem !important; /* 11px */
        line-height: 1.4 !important;
        overflow-x: auto !important;
        border-radius: 0.375rem !important;
        -webkit-overflow-scrolling: touch;
    }
    
    /* è¡Œå†…ä»£ç  */
    .message-text-content code {
        font-size: 0.86rem !important; /* 12px */
        padding: 0.125rem 0.3rem !important;
        border-radius: 0.25rem !important;
    }
    
    .message-text-content pre code {
        font-size: 0.79rem !important; /* 11px */
        padding: 0 !important;
    }
    
    /* å¼•ç”¨å— */
    .message-text-content blockquote {
        margin: 0.5rem 0 !important;
        padding: 0.5rem 0 0.5rem 0.75rem !important;
        border-left-width: 2.5px !important;
        font-size: 0.93rem !important;
    }
    
    /* è¡¨æ ¼ - å¯æ¨ªå‘æ»šåŠ¨ */
    .message-text-content table {
        display: block !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch;
        font-size: 0.86rem !important;
        margin: 0.5rem -0.75rem !important;
    }
    
    .message-text-content th,
    .message-text-content td {
        padding: 0.5rem !important;
        font-size: 0.86rem !important;
    }
    
    /* ========== è¾“å…¥åŒºåŸŸä¼˜åŒ– ========== */
    
    /* è¾“å…¥æ¡† */
    .input-box {
        font-size: 16px !important; /* é˜²æ­¢iOSç¼©æ”¾ */
        line-height: 1.4 !important;
        padding: 0.75rem !important;
        min-height: 44px !important; /* è‹¹æœäººæœºäº¤äº’æŒ‡å— */
    }
    
    /* å‘é€æŒ‰é’® */
    .send-btn {
        min-width: 44px !important;
        min-height: 44px !important;
        padding: 0.625rem !important;
    }
    
    /* ========== æ¬¢è¿é¡µé¢ ========== */
    
    .welcome-section {
        padding: 0.875rem !important;
    }
    
    .welcome-title {
        font-size: 1.57rem !important; /* 22px */
        margin-bottom: 0.625rem !important;
        line-height: 1.3 !important;
    }
    
    .welcome-subtitle {
        font-size: 0.93rem !important; /* 13px */
        line-height: 1.5 !important;
    }
    
    /* å¿«æ·æ“ä½œæŒ‰é’® */
    .quick-action-btn {
        padding: 0.75rem !important;
        font-size: 0.86rem !important;
        min-height: 44px !important;
    }
    
    /* ========== å…¶ä»–UIå…ƒç´  ========== */
    
    /* æŒ‰é’® */
    button {
        min-height: 44px !important; /* è§¦æ‘¸å‹å¥½ */
        min-width: 44px !important;
        padding: 0.625rem 0.875rem !important;
        font-size: 0.93rem !important;
    }
    
    /* å›¾æ ‡æŒ‰é’® */
    [class*="btn"][class*="icon"],
    .icon-btn {
        min-width: 44px !important;
        min-height: 44px !important;
        padding: 0.625rem !important;
    }
    
    /* æ»šåŠ¨æ¡ - æ›´ç»† */
    ::-webkit-scrollbar {
        width: 4px !important;
        height: 4px !important;
    }
    
    ::-webkit-scrollbar-thumb {
        border-radius: 2px !important;
    }
    
    /* ========== æ€§èƒ½ä¼˜åŒ– ========== */
    
    /* å‡å°‘åŠ¨ç”»ï¼ˆçœç”µï¼‰ */
    * {
        -webkit-transition-duration: 0.2s !important;
        transition-duration: 0.2s !important;
    }
    
    /* ç¡¬ä»¶åŠ é€Ÿ */
    .sidebar,
    .sidebar-backdrop,
    .artifacts-panel {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        will-change: transform;
    }
    
    /* ========== æ¨ªå±ä¼˜åŒ– ========== */
    
    @media (orientation: landscape) and (max-height: 500px) {
        /* æ¨ªå±æ—¶å‡å°æ‰€æœ‰é—´è· */
        .messages-container {
            padding: 0.5rem !important;
        }
        
        .message-text-content {
            font-size: 0.86rem !important;
        }
        
        .input-box {
            padding: 0.5rem !important;
            min-height: 36px !important;
        }
        
        [class*="message"] {
            padding: 0.5rem !important;
            margin-bottom: 0.5rem !important;
        }
    }
}

/* ========== å°å±æ‰‹æœºï¼ˆiPhone SEç­‰ï¼‰========== */
@media (max-width: 375px) {
    html {
        font-size: 13px !important; /* æ›´å°çš„åŸºç¡€å­—ä½“ */
    }
    
    .message-text-content {
        font-size: 0.93rem !important; /* çº¦12px */
    }
    
    .message-text-content pre {
        font-size: 0.77rem !important; /* çº¦10px */
    }
}

/* ========== iOSä¸“å±ä¼˜åŒ– ========== */
@supports (-webkit-touch-callout: none) {
    /* é˜²æ­¢iOSç¼©æ”¾ */
    input,
    textarea,
    select {
        font-size: 16px !important;
    }
    
    /* iOSå®‰å…¨åŒºåŸŸé€‚é… */
    body {
        padding-bottom: env(safe-area-inset-bottom);
    }
    
    .chat-container {
        padding-bottom: calc(env(safe-area-inset-bottom) + 0.5rem);
    }
}

/* ========== æ·±è‰²æ¨¡å¼æ”¯æŒ ========== */
@media (prefers-color-scheme: dark) and (max-width: 767px) {
    /* ç§»åŠ¨ç«¯æ·±è‰²æ¨¡å¼å¯æ ¹æ®éœ€è¦è°ƒæ•´ */
    .message-text-content {
        color: #e0e0e0;
    }
}

